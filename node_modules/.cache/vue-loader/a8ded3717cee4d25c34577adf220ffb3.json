{"remainingRequest":"/home/desarrollo/Escritorio/v4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/desarrollo/Escritorio/v4/src/pages/ventas/income.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/desarrollo/Escritorio/v4/src/pages/ventas/income.vue","mtime":1538058858441},{"path":"/home/desarrollo/Escritorio/v4/node_modules/babel-loader/lib/index.js","mtime":1538058856797},{"path":"/home/desarrollo/Escritorio/v4/node_modules/cache-loader/dist/cjs.js","mtime":1538058856833},{"path":"/home/desarrollo/Escritorio/v4/node_modules/vue-loader/lib/index.js","mtime":1538058858321}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {Tabs} from '@/components'\nimport {Collapse, PricingCard} from '@/components'\nimport itemsPrueba from '@/pages/ventas/items.json'\nimport vMoney from '@/components/vMoney.vue'\nimport swal from 'sweetalert2'\nimport {Modal} from '@/components'\n\n\nexport default {\n   data () {\n    return {\n      modalClientes: false,\n      itemsPrueba: itemsPrueba,\n      itemToAdd:{},\n      ventaObject:{\n        'responsable':'',\n        'asunto':'',\n        'nota':'',\n        'item':[],\n        'total': 0,\n        'fecha':''\n      },\n      selectedEmployee: '',\n      employees: [\n        'Hector Gonzalez',\n        'Simon Gomez',\n        'Victor Espinoza'\n      ],\n      itemSelectedToAdd: '',\n      itemsModel: [\n          'Telefono lg k10',\n          'papa',\n          'laptop',\n          'polera azul adidas'\n      ],\n      showInputs: false,\n      \n    }\n  },\n  components: {\n    Tabs,\n    Collapse,\n    PricingCard,\n    vMoney,\n    Modal\n},\n  methods:{\n    modalClientesHide(){\n      this.modalClientes = false;\n    },\n    saveItem(itemToAdd){\n      // Cambiando el estado del boton\n     this.showInputs = !this.showInputs;\n    //  Haciendo push del item al arreglo VENTA! \n      this.ventaObject.item.push(itemToAdd);\n    // Formula calculadora de cantidad * el precio del item\n    var precioProdcuto = (this.itemToAdd.cantidad * this.itemToAdd.precio);\n    // Introduciendo al total\n      this.ventaObject.total= parseInt(this.ventaObject.total) + parseInt(precioProdcuto);\n    },\n    changeBtnStatus(){\n      this.itemToAdd = {}\n      this.showInputs = !this.showInputs;\n    },\n    notifyVue (verticalAlign, horizontalAlign, state) {\n      this.$notify(\n        {\n          message: '¡ITEM AGREGADO A LA COMPRA!',\n          icon: 'add_alert',\n          horizontalAlign: horizontalAlign,\n          verticalAlign: verticalAlign,\n          type: state\n        })\n    },\n    showSwal(type, totalVenta) {\n      swal({\n            title: 'Venta registrada!',\n            text: '$ '+totalVenta+' CLP',\n            type: 'success',\n            showCancelButton: true,\n            confirmButtonClass: 'md-button md-success',\n            cancelButtonClass: 'md-button md-info',\n            confirmButtonText: 'VISUALIZAR',\n            cancelButtonText: 'enviar',\n            buttonsStyling: false\n      }).then((result) => {\n            if (!result.value) {\n              swal({\n                title: 'Correo enviado!',\n                text: 'hectorluisgonzalezlarreal@gmail.com',\n                type: 'success',\n                confirmButtonClass: 'md-button md-success',\n                buttonsStyling: false\n              }).then(() => {\n                this.$router.push('ventas') \n              })\n            }else{\n              this.ventaObject = {};\n              this.$router.push('ventas') \n            }\n          })\n    },\n    facturar_venta(venta) {\n      alert(venta.asunto);\n    \n    }\n   \n  },\n  \n}\n",{"version":3,"sources":["income.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8RA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA","file":"income.vue","sourceRoot":"src/pages/ventas","sourcesContent":["<template>\n  <div>\n  <div class=\"md-layout\">\n   <div class=\"md-layout-item md-small-size-100 md-medium-size-60 md-small-size-60 md-size-60\">\n      <md-card>\n        <md-card-header class=\"md-card-header-icon md-card-header-green\">\n          <div class=\"card-icon\">\n            <md-icon>monetization_on</md-icon>\n          </div>\n          <h4 class=\"title\">Nueva venta</h4>\n          \n        </md-card-header>\n\n        <md-card-content>\n        <!-- Formulario -->\n\n          <div class=\"md-layout\">\n          <div class=\"md-layout-item md-xsmall-size-100 md-medium-size-50 md-small-size-50 md-size-50\">\n              <div class=\"md-layout\">\n                <div class=\"md-layout-item md-small-size-70 md-size-80\">\n                        <div class=\"md-autocomplete md-success\">\n                          <md-autocomplete id=\"autocompletadoUsers\" class=\"search md-success\"  style=\"\" v-model=\"ventaObject.responsable\" :md-options=\"employees\" :md-open-on-focus=\"false\">\n                            <label v-if=\"$route.meta.rtlActive\">Responsable</label>\n                            <label v-else>Responsable</label>\n                          </md-autocomplete>\n                        </div> \n                </div>\n                <div class=\"md-layout-item md-small-size-10 md-size-10\">\n                  <md-button class=\"md-info md-just-icon md-round\" @click.native=\"modalClientes = true;\"><md-icon >person_add</md-icon></md-button>\n                  <md-tooltip direction=\"bottom\">Agregar cliente</md-tooltip>\n                </div>\n              </div>\n          </div>\n\n            \n          \n\n          </div>\n        \n         \n        <center><h3>Datos de la venta</h3></center>\n          <md-divider></md-divider>\n          <br>\n        <div class=\"md-layout\">\n          \n            <div class=\"md-layout-item md-xsmall-size-100 md-medium-size-45 md-small-size-45 md-size-45\">\n\n             <div class=\"md-layout\">\n              <label class=\"md-layout-item md-size-25 md-form-label\">\n               Asunto\n              </label>\n              <div class=\"md-layout-item\">\n                <md-field>\n                  <md-input v-model=\"ventaObject.asunto\" type=\"text\"></md-input>\n                </md-field>\n              </div>\n            </div>\n\n        </div>\n\n         <div class=\"md-layout-item md-xsmall-size-100 md-medium-size-45 md-small-size-45 md-size-45\">\n\n             <div class=\"md-layout\">\n              <label class=\"md-layout-item md-size-25 md-form-label\">\n               Nota\n              </label>\n              <div class=\"md-layout-item\">\n                <md-field>\n                  <md-input v-model=\"ventaObject.nota\"  type=\"text\"></md-input>\n                </md-field>\n              </div>\n            </div>\n\n        </div>\n\n          \n        </div>\n\n        <br>\n       \n          \n          <center><h3>Agregar items</h3></center>\n          <md-divider></md-divider><br>\n         <div class=\"md-layout\">\n\n              <div class=\"md-layout-item md-xsmall-size-20 md-medium-size-25 md-small-size-25 md-size-25\">\n\n              </div>\n           </div>\n\n\n        <!-- /Formulario -->\n        </md-card-content>\n\n        <md-card-actions md-alignment=\"right\">\n          <div class=\"md-layout\">\n            <div class=\"md-layout-item md-size-85 md-small-size-100\" >\n                <div class=\"md-layout\" v-if=\"!showInputs\">\n                  <div class=\"md-layout-item md-size-55\">\n                  \n                  <div class=\"md-autocomplete md-success\">\n                    <md-autocomplete class=\"search md-success\" style=\"\" v-model=\"itemToAdd.nombre\" :md-options=\"itemsModel\" :md-open-on-focus=\"false\">\n                      <label v-if=\"$route.meta.rtlActive\">Nombre del item</label>\n                      <label v-else>Nombre del item</label>\n                    </md-autocomplete>\n                 </div>\n\n                  </div>\n\n                  <div class=\"md-layout-item md-size-15\">\n                   <md-field>\n                    <label>#</label>\n                    <md-input type=\"number\" v-model=\"itemToAdd.cantidad\" ></md-input>\n                  </md-field>\n                  </div>\n\n                  <div class=\"md-layout-item md-size-25\">\n                   <md-field>\n                    <label>Precio</label>\n                    <md-input  type=\"number\" v-model=\"itemToAdd.precio\"></md-input>\n                  </md-field>\n                  </div>\n                  \n                </div>\n            </div>\n          <div class=\"md-layout-item md-size-15 md-small-size-100 pull-right\" md-alignment=\"right\">\n             <div class=\"pull-right\" align=\"left\">\n                <div v-if=\"showInputs\">\n                <md-button class=\"md-warning md-just-icon md-round\" @click=\"changeBtnStatus()\"><md-icon >add</md-icon></md-button>\n                <md-tooltip md-direction=\"left\">Nuevo item</md-tooltip>\n              </div>\n              <center>\n                <div v-if=\"!showInputs\">\n                <md-button class=\"md-success md-just-icon md-round\" @click=\"saveItem(itemToAdd);notifyVue('top', 'center','success') \"><md-icon >check</md-icon></md-button>\n                <md-tooltip md-direction=\"left\">Guardar item</md-tooltip>\n\n              </div>\n              </center>\n             </div>\n          </div>\n          </div>\n        </md-card-actions>\n      </md-card>\n    </div>\n\n\n  <!-- MODAL DE CLIENTES -->\n  <modal v-if=\"modalClientes\" @close=\"modalClientesHide\">\n    <template slot=\"header\">\n      <md-button class=\"md-simple md-just-icon md-round modal-default-button\" @click=\"modalClientesHide\">\n        <md-icon>clear</md-icon>\n      </md-button>\n    </template>\n\n    <template slot=\"body\">\n      <div class=\"md-layout\">\n       <div class=\"md-layout-item md-small-size-55 md-size-55\">\n         <h4><span><i class=\"fa fa-credit-card\"></i></span>  RUT </h4>\n       </div>\n        <div class=\"md-layout-item md-small-size-40 md-size-40\">\n           \n        </div>\n      </div>\n      <hr>\n     <div class=\"md-layout\">\n       <div class=\"md-layout-item md-small-size-60 md-size-60\">\n         <md-field>\n            <label>RUT</label>\n            <md-input type=\"text\" minlength=\"1\" maxlength=\"8\"></md-input>\n         </md-field>\n       </div>\n       <div class=\"md-layout-item md-small-size-30 md-size-30\">\n         <md-field>\n            <label>DV</label>\n            <md-input type=\"text\" minlength=\"1\" maxlength=\"1\"></md-input>\n         </md-field>\n       </div>\n     </div>\n\n     \n      <h4><span><i class=\"fa fa-user\"></i></span>  Nombre</h4>\n      <hr>\n      <br>\n     <div class=\"md-layout\">\n       <div class=\"md-layout-item md-small-size-45 md-size-45\">\n         <md-field> \n            <label>Nombre</label>\n            <md-input type=\"text\"></md-input>\n         </md-field>\n       </div>\n       <div class=\"md-layout-item md-small-size-45 md-size-45\">\n          <md-field>\n            <label>Apellido</label>\n          <md-input type=\"text\"></md-input>\n          </md-field>\n       </div>\n     </div>\n\n     \n      <h4><span><i class=\"fa fa-map\"></i></span>Direccion</h4>\n      <hr>\n      <br>\n     <div class=\"md-layout\">\n       <div class=\"md-layout-item md-small-size-45 md-size-35\">\n         <md-field>\n            <label>Comuna</label>\n            <md-input type=\"text\"></md-input>\n         </md-field>\n       </div>\n       <div class=\"md-layout-item md-small-size-45 md-size-55\">\n          <md-field>\n            <label>Direccion</label>\n          <md-input type=\"text\"></md-input>\n          </md-field>\n       </div>\n     </div>\n    </template>\n\n    <template slot=\"footer\">\n      <md-button class=\"md-simple\" @click=\"modalClientesHide\">Salir</md-button>\n      <md-button class=\"md-success md-simple\" >Guardar</md-button>\n    </template>\n  </modal>\n<!-- Modal de clientes -->\n\n    <div class=\"md-layout-item md-small-size-100 md-medium-size-40 md-small-size-40 md-size-40\">\n          <pricing-card icon-color=\"icon-success\">\n            <md-list class=\"md-triple-line\" slot=\"description\" style=\"border-style:none;width: 100%;\">\n            <md-content class=\"md-scrollbar\" v-if=\"ventaObject.item.length > 0\">\n              <md-list-item v-for=\"itemS in ventaObject.item\" :key=\"itemS\" style=\"padding: 0;\">\n               <div class=\"md-list-item-text\">\n                    <span>{{itemS.nombre}} <b>x</b> {{itemS.cantidad}} </span>\n                    <span><b>Precio:  {{itemS.precio}}</b> </span>\n                  </div>\n                  <div class=\"md-list-action\">  <h4><b>Subtotal:     $ {{itemS.cantidad * itemS.precio}}</b></h4> </div>\n              </md-list-item>\n            </md-content>\n\n            <md-content class=\"md-scrollbar\" v-if=\"ventaObject.item.length <= 0\">\n              <md-list-item style=\"padding: 0;\">\n               <div class=\"md-list-item-text\">\n                    <center><h3 class=\"vlign-center md-text-danger\"><b><i class=\"fa fa-cart-arrow-down\"></i></b></h3>\n                      Venta vacia\n                    </center>\n                  </div>\n              </md-list-item>\n              <md-list-item style=\"padding: 0;\">\n               \n              </md-list-item>\n            </md-content>\n\n             \n            </md-list>\n\n\n          <div slot=\"footer\" class=\"md-group\">\n                <md-button slot=\"footer\" class=\"md-success md-lg\" md-alignment=\"left\" @click.native=\"showSwal('success-message', ventaObject.total)\">FACTURAR</md-button>\n              </div>\n          </pricing-card>\n          <md-card-actions>\n                      \n          </md-card-actions>\n\n          <!-- Total -->\n          <center>\n            <div class=\"total\">\n              <h6>Total</h6>\n              <h2><b>$</b> {{ventaObject.total}}</h2>\n              <hr style=\"margin-top: -4%;\">\n            </div>\n            \n            \n          </center>\n\n    </div>\n\n\n\n  </div>\n\n  \n\n  </div>\n  \n</template>\n<script>\nimport {Tabs} from '@/components'\nimport {Collapse, PricingCard} from '@/components'\nimport itemsPrueba from '@/pages/ventas/items.json'\nimport vMoney from '@/components/vMoney.vue'\nimport swal from 'sweetalert2'\nimport {Modal} from '@/components'\n\n\nexport default {\n   data () {\n    return {\n      modalClientes: false,\n      itemsPrueba: itemsPrueba,\n      itemToAdd:{},\n      ventaObject:{\n        'responsable':'',\n        'asunto':'',\n        'nota':'',\n        'item':[],\n        'total': 0,\n        'fecha':''\n      },\n      selectedEmployee: '',\n      employees: [\n        'Hector Gonzalez',\n        'Simon Gomez',\n        'Victor Espinoza'\n      ],\n      itemSelectedToAdd: '',\n      itemsModel: [\n          'Telefono lg k10',\n          'papa',\n          'laptop',\n          'polera azul adidas'\n      ],\n      showInputs: false,\n      \n    }\n  },\n  components: {\n    Tabs,\n    Collapse,\n    PricingCard,\n    vMoney,\n    Modal\n},\n  methods:{\n    modalClientesHide(){\n      this.modalClientes = false;\n    },\n    saveItem(itemToAdd){\n      // Cambiando el estado del boton\n     this.showInputs = !this.showInputs;\n    //  Haciendo push del item al arreglo VENTA! \n      this.ventaObject.item.push(itemToAdd);\n    // Formula calculadora de cantidad * el precio del item\n    var precioProdcuto = (this.itemToAdd.cantidad * this.itemToAdd.precio);\n    // Introduciendo al total\n      this.ventaObject.total= parseInt(this.ventaObject.total) + parseInt(precioProdcuto);\n    },\n    changeBtnStatus(){\n      this.itemToAdd = {}\n      this.showInputs = !this.showInputs;\n    },\n    notifyVue (verticalAlign, horizontalAlign, state) {\n      this.$notify(\n        {\n          message: '¡ITEM AGREGADO A LA COMPRA!',\n          icon: 'add_alert',\n          horizontalAlign: horizontalAlign,\n          verticalAlign: verticalAlign,\n          type: state\n        })\n    },\n    showSwal(type, totalVenta) {\n      swal({\n            title: 'Venta registrada!',\n            text: '$ '+totalVenta+' CLP',\n            type: 'success',\n            showCancelButton: true,\n            confirmButtonClass: 'md-button md-success',\n            cancelButtonClass: 'md-button md-info',\n            confirmButtonText: 'VISUALIZAR',\n            cancelButtonText: 'enviar',\n            buttonsStyling: false\n      }).then((result) => {\n            if (!result.value) {\n              swal({\n                title: 'Correo enviado!',\n                text: 'hectorluisgonzalezlarreal@gmail.com',\n                type: 'success',\n                confirmButtonClass: 'md-button md-success',\n                buttonsStyling: false\n              }).then(() => {\n                this.$router.push('ventas') \n              })\n            }else{\n              this.ventaObject = {};\n              this.$router.push('ventas') \n            }\n          })\n    },\n    facturar_venta(venta) {\n      alert(venta.asunto);\n    \n    }\n   \n  },\n  \n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .md-list {\n    width: 320px;\n    max-width: 100%;\n    display: inline-block;\n    vertical-align: top;\n    border: 1px solid rgba(#000, .12);\n  }\n\n  .md-content {\n    max-width: 500px;\n    max-height: 200px;\n    overflow: auto;\n  }\n  .total {\n    top: -15%;\n  }\n</style>\n"]}]}